json_gems = ['~> 2.3.0', '~> 2.4.0', '~> 2.5.0']

if RUBY_VERSION < '2.7.0'
  json_gems << '~> 2.2.0'
end

if RUBY_ENGINE == "jruby"
  json_gems.delete('~> 1.2.4')
  json_gems.delete('~> 1.1.9')
end

json_gems.each do |version|
  gemfile <<-RB
    gem 'rack'
    gem 'json', '#{version}'
    #{ruby3_gem_webrick}
  RB
end

# vim: ft=ruby
